<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vibrant Community Hub</title>
    <!-- Question 3: Unique CSS styling -->
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(to top left, #ff9a9e, #fad0c4);
            color: #1a1a1a;
            min-height: 100vh;
        }
        /* Question 1: Navigation styling */
        nav {
            background-color: #1e3a8a;
            padding: 20px;
            text-align: center;
            box-shadow: 0 3px 8px rgba(0,0,0,0.25);
        }
        nav a {
            color: #f8fafc;
            margin: 0 25px;
            text-decoration: none;
            font-weight: 600;
            transition: color 0.4s ease;
        }
        nav a:hover {
            color: #f59e0b;
        }
        /* Question 3: Welcome banner styling */
        #welcomeBanner {
            background: linear-gradient(45deg, #10b981, #047857);
            color: white;
            padding: 50px 20px;
            text-align: center;
            margin: 30px auto;
            max-width: 900px;
            border-radius: 12px;
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
        }
        .highlight {
            font-weight: 700;
            color: #fef08a;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
        }
        /* Question 4: Centered image gallery */
        .event-gallery {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 25px;
            padding: 25px;
            max-width: 1100px;
            margin: 0 auto;
        }
        .event-img {
            border: 4px solid #1e3a8a;
            border-radius: 10px;
            width: 220px;
            height: auto;
            transition: transform 0.4s ease, box-shadow 0.4s ease;
        }
        .event-img:hover {
            transform: scale(1.15);
            box-shadow: 0 8px 16px rgba(0,0,0,0.4);
        }
        .event-gallery caption {
            text-align: center;
            font-style: italic;
            margin-top: 15px;
            color: #444;
            font-size: 1.1em;
        }
        /* Question 5: Form styling */
        .event-form {
            max-width: 650px;
            margin: 30px auto;
            padding: 25px;
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 5px 12px rgba(0,0,0,0.15);
        }
        input, select, textarea {
            width: 100%;
            margin: 12px 0;
            padding: 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            box-sizing: border-box;
            font-size: 1em;
        }
        button {
            padding: 12px 30px;
            background-color: #dc2626;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #b91c1c;
        }
        /* Question 7: Iframe styling */
        iframe {
            display: block;
            max-width: 650px;
            width: 100%;
            height: 360px;
            margin: 25px auto;
            border-radius: 10px;
            border: none;
        }
        /* Contact and section styling */
        section {
            max-width: 900px;
            margin: 30px auto;
            padding: 25px;
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 5px 12px rgba(0,0,0,0.15);
        }
        .contact-info {
            margin-top: 25px;
            line-height: 1.8;
            font-size: 1.1em;
        }
        .contact-info a {
            color: #1e40af;
            text-decoration: none;
        }
        .contact-info a:hover {
            text-decoration: underline;
        }
        /* Question 1: Footer styling */
        footer {
            background-color: #1e3a8a;
            color: white;
            text-align: center;
            padding: 15px;
            width: 100%;
            position: relative;
            bottom: 0;
        }
    </style>
</head>
<body>
    <!-- Question 1: Navigation Section -->
    <nav>
        <a href="#home">Home</a> |
        <a href="#events">Events</a> |
        <a href="#contact">Contact</a> |
        <a href="help.html" target="_blank">Help</a>
    </nav>

    <!-- Question 1: Main Section -->
    <main>
        <!-- Question 3: Welcome Banner -->
        <div id="welcomeBanner">
            <h1>Vibrant Community Hub</h1>
            <p>Connect with your neighbors and enjoy <span class="highlight">unforgettable events</span> designed for all ages!</p>
        </div>

        <!-- Updated Home Section with original content -->
        <section id="home">
            <h2>Welcome to Your Community Hub</h2>
            <p>At Vibrant Community Hub, we foster connection and celebration through diverse local events. From cultural festivals to educational workshops, our goal is to create lasting memories and strengthen community bonds.</p>
            <h3>Why Join Us?</h3>
            <ul>
                <li><strong>Engaging Events</strong>: Experience music, art, and charity events tailored to your interests.</li>
                <li><strong>Community Focus</strong>: Support local initiatives and connect with neighbors.</li>
                <li><strong>Inclusive Fun</strong>: Activities for families, youth, and seniors alike.</li>
            </ul>
            <p>Check out our upcoming events or contact us to get involved!</p>
        </section>

        <!-- Question 2: Events Section -->
        <section id="events">
            <h2>Events</h2>
            <!-- Question 4: Centered Image Gallery -->
            <div class="event-gallery">
                <img src="hi3.jpg" alt="Cultural Festival" title="Cultural Festival 2025" class="event-img">
                <img src="hi1.jpg" alt="Music Night" title="Music Night 2025" class="event-img">
                <img src="hi4.jpeg" alt="Art Class" title="Art Class 2025" class="event-img">
                <img src="hi5.jpg" alt="Charity Dash" title="Charity Dash 2025" class="event-img">
                <img src="hi6.jpeg" alt="Local Market" title="Local Market 2025" class="event-img">
                <img src="hi7.jpg" alt="Food Festival" title="Food Festival 2025" class="event-img">
                <caption>Highlights from Our Past Events</caption>
            </div>

            <!-- Question 5: Event Registration Form -->
            <h3>Sign Up for an Event</h3>
            <form class="event-form" id="eventForm">
                <label for="name">Full Name:</label>
                <input type="text" id="name" placeholder="Enter your full name" required autofocus>
                
                <label for="email">Email Address:</label>
                <input type="email" id="email" placeholder="Enter your email" required>
                
                <label for="eventDate">Event Date:</label>
                <input type="date" id="eventDate" required>
                
                <label for="eventType">Event Type:</label>
                <select id="eventType" onchange="showEventFee()">
                    <option value="cultural">Cultural Festival ($30)</option>
                    <option value="music">Music Night ($40)</option>
                    <option value="art">Art Class ($25)</option>
                    <option value="art">CharityDash ($35)</option>
                    <option value="art">LocalMarket ($45)</option>
                    <option value="art">Food Festival ($50)</option>
                </select>
                
                <label for="message">Comments:</label>
                <textarea id="message" placeholder="Any special requests?" rows="5"></textarea>
                
                <label for="phone">Phone Number:</label>
                <input type="tel" id="phone" placeholder="Enter phone number" onblur="checkPhone()">
                
                <button type="button" onclick="submitRegistration()">Register Now</button>
                <output id="formOutput"></output>
            </form>
        </section>

        <!-- Question 6: Contact & Feedback Section with unique details -->
        <section id="contact">
            <h2>Contact Us</h2>
            <div class="contact-info">
                <p><strong>Email:</strong> <a href="mailto:events@vibranthub.org">events@vibranthub.org</a></p>
                <p><strong>Phone:</strong> <a href="tel:+1987654321">+91 1234567891</a></p>
                <p><strong>Address:</strong> VIP Nagar , Karur City, Tamilnadu</p>
                <p><strong>Office Hours:</strong> Monday-Saturday, 8 AM - 6 PM</p>
            </div>
            <h3>Provide Feedback</h3>
            <textarea id="feedback" onkeyup="countFeedbackChars()" placeholder="Tell us about your experience"></textarea>
            <p>Characters: <span id="charCount">0</span></p>
        </section>

        <!-- Question 7: Video Invite with updated YouTube link -->
        <section id="video">
            <h2>Our Event Promo</h2>
            <iframe src="https://www.youtube.com/embed/5GlS9pyqBgM" title="Vibrant Community Promo" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen onload="videoLoaded()"></iframe>
            <p id="videoMessage"></p>
        </section>

        <!-- Question 9: Geolocation Section -->
        <section id="geolocation">
            <h2>Discover Nearby Events</h2>
            <button onclick="locateEvents()">Find Events Near Me</button>
            <p id="geoOutput"></p>
        </section>

        <!-- Question 8: Clear Preferences -->
        <section>
            <button onclick="resetPreferences()">Reset Preferences</button>
        </section>
    </main>

    <!-- Question 1: Footer Section -->
    <footer>
        <p>© 2025 Vibrant Community Hub</p>
    </footer>

    <!-- Questions 6, 8, 9: JavaScript for functionality -->
    <script>
        // Question 6: Phone number validation
        function checkPhone() {
            const phone = document.getElementById('phone').value;
            const phoneRegex = /^\d{10}$/;
            if (!phoneRegex.test(phone)) {
                alert('Please provide a valid 10-digit phone number.');
            }
        }

        // Question 6: Event fee display
        function showEventFee() {
            const eventType = document.getElementById('eventType').value;
            const fees = { cultural: 30, music: 40, art: 25 };
            document.getElementById('formOutput').innerText = `Registration Fee: $${fees[eventType]}`;
            
            // Question 8: Store event preference
            localStorage.setItem('selectedEvent', eventType);
        }

        // Question 6: Form submission
        function submitRegistration() {
            document.getElementById('formOutput').innerText = 'Thank you for registering!';
        }

        // Question 6: Feedback character count
        function countFeedbackChars() {
            const feedback = document.getElementById('feedback').value;
            document.getElementById('charCount').innerText = feedback.length;
        }

        // Question 6: Image double-click zoom
        document.querySelectorAll('.event-img').forEach(img => {
            img.ondblclick = function() {
                this.style.width = this.style.width === '440px' ? '220px' : '440px';
            };
        });

        // Question 7: Video load message
        function videoLoaded() {
            document.getElementById('videoMessage').innerText = 'Promo video loaded!';
        }

        // Question 7: Warn on form exit
        window.onbeforeunload = function() {
            const inputs = document.querySelectorAll('#eventForm input, #eventForm textarea');
            for (let input of inputs) {
                if (input.value) return 'You have unsaved form data. Leave anyway?';
            }
        };

        // Question 8: Load saved event preference
        window.onload = function() {
            const savedEvent = localStorage.getItem('selectedEvent');
            if (savedEvent) {
                document.getElementById('eventType').value = savedEvent;
                showEventFee();
            }
        };

        // Question 8: Clear storage
        function resetPreferences() {
            localStorage.clear();
            sessionStorage.clear();
            alert('All preferences have been reset.');
        }

        // Question 9: Optimized geolocation with reverse geocoding
        async function locateEvents() {
            const geoOutput = document.getElementById('geoOutput');
            if (!navigator.geolocation) {
                geoOutput.innerText = 'Your browser does not support geolocation.';
                return;
            }

            geoOutput.innerText = 'Locating you...';
            try {
                const position = await new Promise((resolve, reject) => {
                    navigator.geolocation.getCurrentPosition(resolve, reject, {
                        enableHighAccuracy: true,
                        timeout: 8000,
                        maximumAge: 0
                    });
                });

                const { latitude, longitude } = position.coords;
                geoOutput.innerText = `Coordinates: ${latitude.toFixed(4)}, ${longitude.toFixed(4)}`;

                // Reverse geocoding with Nominatim
                try {
                    const response = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}&zoom=12`, {
                        headers: { 'User-Agent': 'VibrantCommunityHub/1.0' }
                    });
                    const data = await response.json();
                    geoOutput.innerText += data.display_name ? `\nYour location: ${data.display_name}` : '\nLocation name unavailable.';
                } catch (error) {
                    geoOutput.innerText += '\nCould not retrieve location name.';
                    console.error('Geocoding error:', error);
                }
            } catch (error) {
                geoOutput.innerText = {
                    [error.PERMISSION_DENIED]: 'Geolocation permission denied.',
                    [error.POSITION_UNAVAILABLE]: 'Location data unavailable.',
                    [error.TIMEOUT]: 'Location request timed out.',
                    [error.code]: 'Error fetching location.'
                }[error.code] || 'Error fetching location.';
            }
        }
    </script>
</body>
</html>